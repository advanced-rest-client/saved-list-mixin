{
  "schema_version": "1.0.0",
  "namespaces": [
    {
      "name": "ApiElements",
      "description": "",
      "summary": "",
      "sourceRange": {
        "file": "history-list-mixin.html",
        "start": {
          "line": 22,
          "column": 4
        },
        "end": {
          "line": 22,
          "column": 30
        }
      }
    }
  ],
  "mixins": [
    {
      "description": "A mixin to be applied to a list that renders history requests.\nIt contains methods to query for history list and to search history.",
      "summary": "",
      "path": "history-list-mixin.html",
      "properties": [
        {
          "name": "requests",
          "type": "Array.<Object>",
          "description": "The list of request to render.",
          "privacy": "public",
          "sourceRange": {
            "start": {
              "line": 43,
              "column": 10
            },
            "end": {
              "line": 43,
              "column": 25
            }
          },
          "metadata": {
            "polymer": {
              "attributeType": "Array"
            }
          }
        },
        {
          "name": "querying",
          "type": "boolean | null | undefined",
          "description": "True when the element is querying the database for the data.",
          "privacy": "public",
          "sourceRange": {
            "start": {
              "line": 47,
              "column": 10
            },
            "end": {
              "line": 51,
              "column": 11
            }
          },
          "metadata": {
            "polymer": {
              "notify": true,
              "readOnly": true,
              "attributeType": "Boolean"
            }
          }
        },
        {
          "name": "pageLimit",
          "type": "number | null | undefined",
          "description": "Single page query limit.",
          "privacy": "public",
          "sourceRange": {
            "start": {
              "line": 55,
              "column": 10
            },
            "end": {
              "line": 58,
              "column": 11
            }
          },
          "metadata": {
            "polymer": {
              "attributeType": "Number"
            }
          },
          "defaultValue": "150"
        },
        {
          "name": "_queryStartKey",
          "type": "string | null | undefined",
          "description": "",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 59,
              "column": 10
            },
            "end": {
              "line": 59,
              "column": 32
            }
          },
          "metadata": {
            "polymer": {
              "attributeType": "String"
            }
          }
        },
        {
          "name": "_querySkip",
          "type": "number | null | undefined",
          "description": "",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 60,
              "column": 10
            },
            "end": {
              "line": 60,
              "column": 28
            }
          },
          "metadata": {
            "polymer": {
              "attributeType": "Number"
            }
          }
        },
        {
          "name": "queryOptions",
          "type": "Object | null | undefined",
          "description": "Computed value.\nDatabase query options for pagination.\nUse `pageLimit` to set pagination limit.",
          "privacy": "public",
          "sourceRange": {
            "start": {
              "line": 66,
              "column": 10
            },
            "end": {
              "line": 69,
              "column": 11
            }
          },
          "metadata": {
            "polymer": {
              "readOnly": true,
              "attributeType": "Object"
            }
          }
        },
        {
          "name": "dataUnavailable",
          "type": "boolean | null | undefined",
          "description": "Computed value. True if query ended and there's no results.",
          "privacy": "public",
          "sourceRange": {
            "start": {
              "line": 73,
              "column": 10
            },
            "end": {
              "line": 76,
              "column": 11
            }
          },
          "metadata": {
            "polymer": {
              "readOnly": true,
              "attributeType": "Boolean"
            }
          }
        },
        {
          "name": "isSearch",
          "type": "boolean | null | undefined",
          "description": "When set this component is in search mode.\nThis means that the list won't be loaded automatically and\nsome operations not related to search are disabled.",
          "privacy": "public",
          "sourceRange": {
            "start": {
              "line": 82,
              "column": 10
            },
            "end": {
              "line": 85,
              "column": 11
            }
          },
          "metadata": {
            "polymer": {
              "attributeType": "Boolean"
            }
          },
          "defaultValue": "false"
        },
        {
          "name": "searchListEmpty",
          "type": "boolean | null | undefined",
          "description": "Computed value. True when the query has been performed and no items\nhas been returned. It is different from `listHidden` where less\nconditions has to be checked. It is set to true when it doesn't\nhave items, is not loading and is search.",
          "privacy": "public",
          "sourceRange": {
            "start": {
              "line": 92,
              "column": 10
            },
            "end": {
              "line": 95,
              "column": 11
            }
          },
          "metadata": {
            "polymer": {
              "readOnly": true,
              "attributeType": "Boolean"
            }
          }
        },
        {
          "name": "noAuto",
          "type": "boolean | null | undefined",
          "description": "When set it won't query for data automatically when attached to the DOM.",
          "privacy": "public",
          "sourceRange": {
            "start": {
              "line": 99,
              "column": 10
            },
            "end": {
              "line": 99,
              "column": 25
            }
          },
          "metadata": {
            "polymer": {
              "attributeType": "Boolean"
            }
          }
        }
      ],
      "methods": [
        {
          "name": "connectedCallback",
          "description": "",
          "privacy": "public",
          "sourceRange": {
            "start": {
              "line": 109,
              "column": 6
            },
            "end": {
              "line": 119,
              "column": 7
            }
          },
          "metadata": {},
          "params": [],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "disconnectedCallback",
          "description": "",
          "privacy": "public",
          "sourceRange": {
            "start": {
              "line": 121,
              "column": 6
            },
            "end": {
              "line": 125,
              "column": 7
            }
          },
          "metadata": {},
          "params": [],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "_computeQueryOptions",
          "description": "Computes pagination options.\nThis resets pagination status.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 134,
              "column": 6
            },
            "end": {
              "line": 149,
              "column": 7
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "limit",
              "type": "Number",
              "description": "Items per page limit."
            },
            {
              "name": "startKey",
              "type": "String",
              "description": "Query start key"
            },
            {
              "name": "skip",
              "type": "Number",
              "description": "Number of records to skip."
            }
          ],
          "return": {
            "type": "Object",
            "desc": "Pagination options for PouchDB."
          }
        },
        {
          "name": "_computeDataUnavailable",
          "description": "Computes value for the `dataUnavailable` proeprty",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 158,
              "column": 6
            },
            "end": {
              "line": 160,
              "column": 7
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "hasRequests",
              "type": "Boolean",
              "description": "[description]"
            },
            {
              "name": "loading",
              "type": "Booelan",
              "description": "[description]"
            },
            {
              "name": "isSearch",
              "type": "Boolean",
              "description": "[description]"
            }
          ],
          "return": {
            "type": "Boolean"
          }
        },
        {
          "name": "_computeSearchListEmpty",
          "description": "Computes value for the `searchListEmpty` property",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 169,
              "column": 6
            },
            "end": {
              "line": 171,
              "column": 7
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "hasRequests",
              "type": "Boolean",
              "description": "[description]"
            },
            {
              "name": "loading",
              "type": "Booelan",
              "description": "[description]"
            },
            {
              "name": "isSearch",
              "type": "Boolean",
              "description": "[description]"
            }
          ],
          "return": {
            "type": "Boolean"
          }
        },
        {
          "name": "refresh",
          "description": "Refreshes the data from the datastore.\nIt resets the query options, clears requests and makes a query to the datastore.",
          "privacy": "public",
          "sourceRange": {
            "start": {
              "line": 177,
              "column": 6
            },
            "end": {
              "line": 180,
              "column": 7
            }
          },
          "metadata": {},
          "params": [],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "reset",
          "description": "Resets the state of the variables.",
          "privacy": "public",
          "sourceRange": {
            "start": {
              "line": 184,
              "column": 6
            },
            "end": {
              "line": 200,
              "column": 7
            }
          },
          "metadata": {},
          "params": [],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "_dataImportHandler",
          "description": "Handler for `data-imported` cutom event.\nRefreshes data state.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 205,
              "column": 6
            },
            "end": {
              "line": 207,
              "column": 7
            }
          },
          "metadata": {},
          "params": [],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "_onDatabaseDestroy",
          "description": "Handler for the `datastore-destroyed` custom event.\nIf one of destroyed databases is history store then it refreshes the sate.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 213,
              "column": 6
            },
            "end": {
              "line": 227,
              "column": 7
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "e",
              "type": "CustomEvent"
            }
          ],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "loadNext",
          "description": "Loads next page of results. It runs the task in a debouncer set to\nnext render frame so it's safe to call it more than once at the time.",
          "privacy": "public",
          "sourceRange": {
            "start": {
              "line": 232,
              "column": 6
            },
            "end": {
              "line": 244,
              "column": 7
            }
          },
          "metadata": {},
          "params": [],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "_appendItems",
          "description": "Appends array items to the `requests` property.\nIt should be used instead of direct manipulation of the `items` array.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 250,
              "column": 6
            },
            "end": {
              "line": 260,
              "column": 7
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "requests",
              "type": "Array.<Object>",
              "description": "List of requests to appenmd"
            }
          ],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "_loadPage",
          "description": "Loads next page of results from the datastore.\nPagination used here has been described in PouchDB pagination strategies\ndocument.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 267,
              "column": 6
            },
            "end": {
              "line": 301,
              "column": 7
            }
          },
          "metadata": {},
          "params": [],
          "return": {
            "type": "Promise"
          }
        },
        {
          "name": "_dispatchListEvent",
          "description": "Dispatches `request-list` custom event and returns the event.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 306,
              "column": 6
            },
            "end": {
              "line": 318,
              "column": 7
            }
          },
          "metadata": {},
          "params": [],
          "return": {
            "type": "CustomEvent"
          }
        },
        {
          "name": "_handleError",
          "description": "",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 320,
              "column": 6
            },
            "end": {
              "line": 323,
              "column": 7
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "cause"
            }
          ],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "_processHistoryResults",
          "description": "Processes query results to generate view data model.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 329,
              "column": 6
            },
            "end": {
              "line": 342,
              "column": 7
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "res",
              "type": "Array",
              "description": "List of history requests retreived from the datastore."
            }
          ],
          "return": {
            "type": "Array",
            "desc": "Processed data requests."
          }
        },
        {
          "name": "_ensureTimestamps",
          "description": "Ensures that the history objects have the `updated` property\nrequired by further computations while processing results.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 351,
              "column": 6
            },
            "end": {
              "line": 361,
              "column": 7
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "requests",
              "type": "Array.<Object>",
              "description": "List of history requests"
            }
          ],
          "return": {
            "type": "Array.<Object>",
            "desc": "The same array but all requests will have `updated`\nproperty."
          }
        },
        {
          "name": "_sortHistoryResults",
          "description": "Sorts the query results by `updated` property.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 368,
              "column": 6
            },
            "end": {
              "line": 376,
              "column": 7
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "a",
              "type": "Object"
            },
            {
              "name": "b",
              "type": "Object"
            }
          ],
          "return": {
            "type": "Number"
          }
        },
        {
          "name": "_getTodayTimestamp",
          "description": "Creates a timestamp fot today, midnight",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 381,
              "column": 6
            },
            "end": {
              "line": 385,
              "column": 7
            }
          },
          "metadata": {},
          "params": [],
          "return": {
            "type": "Number"
          }
        },
        {
          "name": "_getYesterdayTimestamp",
          "description": "Computes yesterday's midninght based on today's mignight timestamp",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 391,
              "column": 6
            },
            "end": {
              "line": 393,
              "column": 7
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "todayTimestamp",
              "type": "Number",
              "description": "Timestamp of current daty at midnight"
            }
          ],
          "return": {
            "type": "Number",
            "desc": "Timestamp 24 hours earlier."
          }
        },
        {
          "name": "_groupHistory",
          "description": "Creates headers for each day and group requests in each day group.\nThis is relevant for history type",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 403,
              "column": 6
            },
            "end": {
              "line": 428,
              "column": 7
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "requests",
              "type": "Array.<Object>"
            },
            {
              "name": "today",
              "type": "Number",
              "description": "Timestamp of today"
            },
            {
              "name": "yesterday",
              "type": "Number",
              "description": "Timestamp of yesterday"
            }
          ],
          "return": {
            "type": "Array.<Object>"
          }
        },
        {
          "name": "_computeHistoryTime",
          "description": "Computes time information for a history item. This is later used to\npresent history list item.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 438,
              "column": 6
            },
            "end": {
              "line": 464,
              "column": 7
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "date",
              "type": "Number",
              "description": "Timestamp of when the item was created / updated"
            }
          ],
          "return": {
            "type": "Object",
            "desc": "Various time formats:\n- formatted - Formatted date string\n- time - Parsed timestamp\n- timeLabel - secondary list item"
          }
        },
        {
          "name": "_resetHistoryObject",
          "description": "Resets history object by removing items that has been added\nwhen processing response.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 471,
              "column": 6
            },
            "end": {
              "line": 478,
              "column": 7
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "request",
              "type": "Object",
              "description": "ARC request object"
            }
          ],
          "return": {
            "type": "Object"
          }
        },
        {
          "name": "query",
          "description": "Dispatches `request-query` custom event to `request-model`\nto perform a query.",
          "privacy": "public",
          "sourceRange": {
            "start": {
              "line": 488,
              "column": 6
            },
            "end": {
              "line": 515,
              "column": 7
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "query",
              "type": "String",
              "description": "The query to performs. Pass empty stirng\n(or nothing) to reset query state."
            }
          ],
          "return": {
            "type": "Promise",
            "desc": "Resolved promise when the query ends."
          }
        },
        {
          "name": "_dispatchQueryEvent",
          "description": "Dispatches `request-query` custom event.\nThis event is handled by `request-mode` element to query the\ndatastore for user search term.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 523,
              "column": 6
            },
            "end": {
              "line": 535,
              "column": 7
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "q",
              "type": "String",
              "description": "Query passed to event detail."
            }
          ],
          "return": {
            "type": "CustomEvent"
          }
        }
      ],
      "staticMethods": [],
      "demos": [],
      "metadata": {},
      "sourceRange": {
        "start": {
          "line": 31,
          "column": 2
        },
        "end": {
          "line": 555,
          "column": 4
        }
      },
      "privacy": "public",
      "name": "ArcComponents.HistoryListMixin",
      "attributes": [
        {
          "name": "requests",
          "description": "The list of request to render.",
          "sourceRange": {
            "start": {
              "line": 43,
              "column": 10
            },
            "end": {
              "line": 43,
              "column": 25
            }
          },
          "metadata": {},
          "type": "Array.<Object>"
        },
        {
          "name": "querying",
          "description": "True when the element is querying the database for the data.",
          "sourceRange": {
            "start": {
              "line": 47,
              "column": 10
            },
            "end": {
              "line": 51,
              "column": 11
            }
          },
          "metadata": {},
          "type": "boolean | null | undefined"
        },
        {
          "name": "page-limit",
          "description": "Single page query limit.",
          "sourceRange": {
            "start": {
              "line": 55,
              "column": 10
            },
            "end": {
              "line": 58,
              "column": 11
            }
          },
          "metadata": {},
          "type": "number | null | undefined"
        },
        {
          "name": "query-options",
          "description": "Computed value.\nDatabase query options for pagination.\nUse `pageLimit` to set pagination limit.",
          "sourceRange": {
            "start": {
              "line": 66,
              "column": 10
            },
            "end": {
              "line": 69,
              "column": 11
            }
          },
          "metadata": {},
          "type": "Object | null | undefined"
        },
        {
          "name": "data-unavailable",
          "description": "Computed value. True if query ended and there's no results.",
          "sourceRange": {
            "start": {
              "line": 73,
              "column": 10
            },
            "end": {
              "line": 76,
              "column": 11
            }
          },
          "metadata": {},
          "type": "boolean | null | undefined"
        },
        {
          "name": "is-search",
          "description": "When set this component is in search mode.\nThis means that the list won't be loaded automatically and\nsome operations not related to search are disabled.",
          "sourceRange": {
            "start": {
              "line": 82,
              "column": 10
            },
            "end": {
              "line": 85,
              "column": 11
            }
          },
          "metadata": {},
          "type": "boolean | null | undefined"
        },
        {
          "name": "search-list-empty",
          "description": "Computed value. True when the query has been performed and no items\nhas been returned. It is different from `listHidden` where less\nconditions has to be checked. It is set to true when it doesn't\nhave items, is not loading and is search.",
          "sourceRange": {
            "start": {
              "line": 92,
              "column": 10
            },
            "end": {
              "line": 95,
              "column": 11
            }
          },
          "metadata": {},
          "type": "boolean | null | undefined"
        },
        {
          "name": "no-auto",
          "description": "When set it won't query for data automatically when attached to the DOM.",
          "sourceRange": {
            "start": {
              "line": 99,
              "column": 10
            },
            "end": {
              "line": 99,
              "column": 25
            }
          },
          "metadata": {},
          "type": "boolean | null | undefined"
        }
      ],
      "events": [
        {
          "type": "CustomEvent",
          "name": "request-list",
          "description": "Dispatched when the element requests next page of results.",
          "metadata": {}
        },
        {
          "type": "CustomEvent",
          "name": "request-query",
          "description": "Dispatched when search was requested.",
          "metadata": {}
        }
      ],
      "styling": {
        "cssVariables": [],
        "selectors": []
      },
      "slots": []
    }
  ]
}
